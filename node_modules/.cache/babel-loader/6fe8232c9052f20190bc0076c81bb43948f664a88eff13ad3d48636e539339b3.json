{"ast":null,"code":"import React from'react';import{ChevronLeft,ChevronRight}from'lucide-react';import{format,startOfMonth,endOfMonth,eachDayOfInterval,isToday,addMonths,subMonths}from'date-fns';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Calendar=_ref=>{let{currentDate,onDateChange,attendanceData}=_ref;const[selectedMonth,setSelectedMonth]=React.useState(currentDate);const monthStart=startOfMonth(selectedMonth);const monthEnd=endOfMonth(selectedMonth);const daysInMonth=eachDayOfInterval({start:monthStart,end:monthEnd});// Get the first day of the month to calculate padding\nconst firstDayOfMonth=monthStart.getDay();const paddingDays=Array.from({length:firstDayOfMonth},(_,i)=>i);const goToPreviousMonth=()=>{setSelectedMonth(subMonths(selectedMonth,1));};const goToNextMonth=()=>{setSelectedMonth(addMonths(selectedMonth,1));};const getAttendanceColor=date=>{const dateKey=format(date,'yyyy-MM-dd');const status=attendanceData[dateKey];if(date>new Date()){return'bg-gray-100 text-gray-400';// Future dates\n}switch(status){case'present':return'bg-green-500 text-white hover:bg-green-600';case'absent':return'bg-red-500 text-white hover:bg-red-600';case'late':return'bg-yellow-500 text-white hover:bg-yellow-600';case'half-day':return'bg-orange-500 text-white hover:bg-orange-600';default:return'bg-gray-200 text-gray-700 hover:bg-gray-300';}};const getAttendanceTooltip=date=>{const dateKey=format(date,'yyyy-MM-dd');const status=attendanceData[dateKey];if(date>new Date()){return'Upcoming';}switch(status){case'present':return'Present';case'absent':return'Absent';case'late':return'Late';case'half-day':return'Half Day';default:return'No Record';}};return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:goToPreviousMonth,className:\"p-2 hover:bg-gray-100 rounded-full transition-colors\",children:/*#__PURE__*/_jsx(ChevronLeft,{className:\"h-5 w-5\"})}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-900\",children:format(selectedMonth,'MMMM yyyy')}),/*#__PURE__*/_jsx(\"button\",{onClick:goToNextMonth,className:\"p-2 hover:bg-gray-100 rounded-full transition-colors\",children:/*#__PURE__*/_jsx(ChevronRight,{className:\"h-5 w-5\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-7 gap-1\",children:[['Sun','Mon','Tue','Wed','Thu','Fri','Sat'].map(day=>/*#__PURE__*/_jsx(\"div\",{className:\"h-10 flex items-center justify-center text-sm font-medium text-gray-500\",children:day},day)),paddingDays.map((_,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"h-12\"},\"padding-\".concat(index))),daysInMonth.map(day=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>onDateChange(day),className:\"\\n              h-12 flex items-center justify-center text-sm font-medium rounded-md transition-colors\\n              \".concat(getAttendanceColor(day),\"\\n              \").concat(isToday(day)?'ring-2 ring-blue-500':'',\"\\n            \"),title:\"\".concat(format(day,'MMM dd, yyyy'),\" - \").concat(getAttendanceTooltip(day)),children:format(day,'d')},day.toISOString()))]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 flex flex-wrap gap-4 text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-4 h-4 bg-green-500 rounded\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Present\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-4 h-4 bg-red-500 rounded\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Absent\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-4 h-4 bg-yellow-500 rounded\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Late\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-4 h-4 bg-orange-500 rounded\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Half Day\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-4 h-4 bg-gray-200 rounded\"}),/*#__PURE__*/_jsx(\"span\",{children:\"No Record\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-4 h-4 bg-gray-100 rounded\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Upcoming\"})]})]})]});};export default Calendar;","map":{"version":3,"names":["React","ChevronLeft","ChevronRight","format","startOfMonth","endOfMonth","eachDayOfInterval","isToday","addMonths","subMonths","jsx","_jsx","jsxs","_jsxs","Calendar","_ref","currentDate","onDateChange","attendanceData","selectedMonth","setSelectedMonth","useState","monthStart","monthEnd","daysInMonth","start","end","firstDayOfMonth","getDay","paddingDays","Array","from","length","_","i","goToPreviousMonth","goToNextMonth","getAttendanceColor","date","dateKey","status","Date","getAttendanceTooltip","className","children","onClick","map","day","index","concat","title","toISOString"],"sources":["C:/Users/Admin/AVA-/src/components/Attendance/Calendar.tsx"],"sourcesContent":["import React from 'react';\r\nimport { ChevronLeft, ChevronRight } from 'lucide-react';\r\nimport { format, startOfMonth, endOfMonth, eachDayOfInterval, isSameMonth, isSameDay, isToday, addMonths, subMonths } from 'date-fns';\r\n\r\ninterface CalendarProps {\r\n  currentDate: Date;\r\n  onDateChange: (date: Date) => void;\r\n  attendanceData: {\r\n    [key: string]: 'present' | 'absent' | 'late' | 'half-day';\r\n  };\r\n}\r\n\r\nconst Calendar: React.FC<CalendarProps> = ({ currentDate, onDateChange, attendanceData }) => {\r\n  const [selectedMonth, setSelectedMonth] = React.useState(currentDate);\r\n\r\n  const monthStart = startOfMonth(selectedMonth);\r\n  const monthEnd = endOfMonth(selectedMonth);\r\n  const daysInMonth = eachDayOfInterval({ start: monthStart, end: monthEnd });\r\n\r\n  // Get the first day of the month to calculate padding\r\n  const firstDayOfMonth = monthStart.getDay();\r\n  const paddingDays = Array.from({ length: firstDayOfMonth }, (_, i) => i);\r\n\r\n  const goToPreviousMonth = () => {\r\n    setSelectedMonth(subMonths(selectedMonth, 1));\r\n  };\r\n\r\n  const goToNextMonth = () => {\r\n    setSelectedMonth(addMonths(selectedMonth, 1));\r\n  };\r\n\r\n  const getAttendanceColor = (date: Date) => {\r\n    const dateKey = format(date, 'yyyy-MM-dd');\r\n    const status = attendanceData[dateKey];\r\n    \r\n    if (date > new Date()) {\r\n      return 'bg-gray-100 text-gray-400'; // Future dates\r\n    }\r\n    \r\n    switch (status) {\r\n      case 'present':\r\n        return 'bg-green-500 text-white hover:bg-green-600';\r\n      case 'absent':\r\n        return 'bg-red-500 text-white hover:bg-red-600';\r\n      case 'late':\r\n        return 'bg-yellow-500 text-white hover:bg-yellow-600';\r\n      case 'half-day':\r\n        return 'bg-orange-500 text-white hover:bg-orange-600';\r\n      default:\r\n        return 'bg-gray-200 text-gray-700 hover:bg-gray-300';\r\n    }\r\n  };\r\n\r\n  const getAttendanceTooltip = (date: Date) => {\r\n    const dateKey = format(date, 'yyyy-MM-dd');\r\n    const status = attendanceData[dateKey];\r\n    \r\n    if (date > new Date()) {\r\n      return 'Upcoming';\r\n    }\r\n    \r\n    switch (status) {\r\n      case 'present':\r\n        return 'Present';\r\n      case 'absent':\r\n        return 'Absent';\r\n      case 'late':\r\n        return 'Late';\r\n      case 'half-day':\r\n        return 'Half Day';\r\n      default:\r\n        return 'No Record';\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-lg shadow p-6\">\r\n      {/* Calendar Header */}\r\n      <div className=\"flex items-center justify-between mb-6\">\r\n        <button\r\n          onClick={goToPreviousMonth}\r\n          className=\"p-2 hover:bg-gray-100 rounded-full transition-colors\"\r\n        >\r\n          <ChevronLeft className=\"h-5 w-5\" />\r\n        </button>\r\n        <h2 className=\"text-xl font-semibold text-gray-900\">\r\n          {format(selectedMonth, 'MMMM yyyy')}\r\n        </h2>\r\n        <button\r\n          onClick={goToNextMonth}\r\n          className=\"p-2 hover:bg-gray-100 rounded-full transition-colors\"\r\n        >\r\n          <ChevronRight className=\"h-5 w-5\" />\r\n        </button>\r\n      </div>\r\n\r\n      {/* Calendar Grid */}\r\n      <div className=\"grid grid-cols-7 gap-1\">\r\n        {/* Day Headers */}\r\n        {['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'].map((day) => (\r\n          <div\r\n            key={day}\r\n            className=\"h-10 flex items-center justify-center text-sm font-medium text-gray-500\"\r\n          >\r\n            {day}\r\n          </div>\r\n        ))}\r\n\r\n        {/* Padding Days */}\r\n        {paddingDays.map((_, index) => (\r\n          <div key={`padding-${index}`} className=\"h-12\" />\r\n        ))}\r\n\r\n        {/* Calendar Days */}\r\n        {daysInMonth.map((day) => (\r\n          <button\r\n            key={day.toISOString()}\r\n            onClick={() => onDateChange(day)}\r\n            className={`\r\n              h-12 flex items-center justify-center text-sm font-medium rounded-md transition-colors\r\n              ${getAttendanceColor(day)}\r\n              ${isToday(day) ? 'ring-2 ring-blue-500' : ''}\r\n            `}\r\n            title={`${format(day, 'MMM dd, yyyy')} - ${getAttendanceTooltip(day)}`}\r\n          >\r\n            {format(day, 'd')}\r\n          </button>\r\n        ))}\r\n      </div>\r\n\r\n      {/* Legend */}\r\n      <div className=\"mt-6 flex flex-wrap gap-4 text-sm\">\r\n        <div className=\"flex items-center space-x-2\">\r\n          <div className=\"w-4 h-4 bg-green-500 rounded\"></div>\r\n          <span>Present</span>\r\n        </div>\r\n        <div className=\"flex items-center space-x-2\">\r\n          <div className=\"w-4 h-4 bg-red-500 rounded\"></div>\r\n          <span>Absent</span>\r\n        </div>\r\n        <div className=\"flex items-center space-x-2\">\r\n          <div className=\"w-4 h-4 bg-yellow-500 rounded\"></div>\r\n          <span>Late</span>\r\n        </div>\r\n        <div className=\"flex items-center space-x-2\">\r\n          <div className=\"w-4 h-4 bg-orange-500 rounded\"></div>\r\n          <span>Half Day</span>\r\n        </div>\r\n        <div className=\"flex items-center space-x-2\">\r\n          <div className=\"w-4 h-4 bg-gray-200 rounded\"></div>\r\n          <span>No Record</span>\r\n        </div>\r\n        <div className=\"flex items-center space-x-2\">\r\n          <div className=\"w-4 h-4 bg-gray-100 rounded\"></div>\r\n          <span>Upcoming</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Calendar; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}